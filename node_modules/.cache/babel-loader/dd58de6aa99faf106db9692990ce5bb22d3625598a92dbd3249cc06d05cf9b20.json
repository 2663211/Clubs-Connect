{"ast":null,"code":"var _jsxFileName = \"C:\\\\Programming\\\\Clubs Connect\\\\Clubs-Connect\\\\src\\\\components\\\\addCSO.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { supabase } from '../supabaseClient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ExecutiveSearch({\n  executives,\n  selectedExecutives,\n  onAdd,\n  onRemove\n}) {\n  _s();\n  const [search, setSearch] = useState('');\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const filteredExecutives = executives.filter(exec => exec.name.toLowerCase().includes(search.toLowerCase()) && !selectedExecutives.find(selected => selected.id === exec.id));\n  const handleAdd = executive => {\n    onAdd(executive);\n    setSearch('');\n    setShowSuggestions(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      role: \"search\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"search\",\n        placeholder: \"Type to search executives...\",\n        value: search,\n        onChange: e => setSearch(e.target.value),\n        onFocus: () => setShowSuggestions(true),\n        \"aria-label\": \"Search executives\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this), showSuggestions && search && filteredExecutives.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"suggestions-container\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"suggestions-dropdown\",\n          role: \"listbox\",\n          children: filteredExecutives.map(exec => /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => handleAdd(exec),\n            role: \"option\",\n            tabIndex: 0,\n            onKeyDown: e => e.key === 'Enter' && handleAdd(exec),\n            children: exec.name\n          }, exec.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), selectedExecutives.length > 0 && /*#__PURE__*/_jsxDEV(\"section\", {\n      \"aria-label\": \"Selected executives\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Selected executives:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"executive-chips\",\n        children: selectedExecutives.map(exec => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"chip\",\n          children: [exec.name, /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => onRemove(exec.id),\n            \"aria-label\": `Remove ${exec.name}`,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this)]\n        }, exec.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n}\n_s(ExecutiveSearch, \"ycGAYQiDumUDs1OaF+pcyS8g/8o=\");\n_c = ExecutiveSearch;\nfunction AddCSO() {\n  _s2();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    cluster: '',\n    subscription: '',\n    executives: []\n  });\n  const [logoFile, setLogoFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [status, setStatus] = useState({\n    type: null,\n    message: null\n  });\n  const [executives, setExecutives] = useState([]);\n  const [selectedExecutives, setSelectedExecutives] = useState([]);\n  useEffect(() => {\n    fetchExecutives();\n  }, []);\n  const fetchExecutives = async () => {\n    try {\n      const {\n        data: execData,\n        error: execError\n      } = await supabase.from('executive').select('id, student/staff_number');\n      if (execError) throw execError;\n      if ((execData === null || execData === void 0 ? void 0 : execData.length) > 0) {\n        const studentNumbers = execData.map(exec => exec['student/staff_number']).filter(Boolean);\n        if (studentNumbers.length > 0) {\n          const {\n            data: profileData,\n            error: profileError\n          } = await supabase.from('profiles').select('id, full_name').in('id', studentNumbers);\n          if (profileError) throw profileError;\n          const executivesWithNames = execData.map(exec => {\n            const profile = profileData === null || profileData === void 0 ? void 0 : profileData.find(p => p.id === exec['student/staff_number']);\n            return {\n              id: exec.id,\n              name: (profile === null || profile === void 0 ? void 0 : profile.full_name) || 'Unknown Executive'\n            };\n          });\n          setExecutives(executivesWithNames);\n        }\n      }\n    } catch (err) {\n      console.error('Error fetching executives:', err);\n      setStatus({\n        type: 'error',\n        message: 'Failed to load executives'\n      });\n    }\n  };\n  const handleAddExecutive = executive => {\n    setSelectedExecutives([...selectedExecutives, executive]);\n    setFormData(prev => ({\n      ...prev,\n      executives: [...prev.executives, executive.id]\n    }));\n  };\n  const handleRemoveExecutive = executiveId => {\n    setSelectedExecutives(prev => prev.filter(exec => exec.id !== executiveId));\n    setFormData(prev => ({\n      ...prev,\n      executives: prev.executives.filter(id => id !== executiveId)\n    }));\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    if (!file.type.startsWith('image/')) {\n      setStatus({\n        type: 'error',\n        message: 'Please select an image file'\n      });\n      return;\n    }\n    if (file.size > 5 * 1024 * 1024) {\n      setStatus({\n        type: 'error',\n        message: 'File size must be less than 5MB'\n      });\n      return;\n    }\n    setLogoFile(file);\n    setStatus({\n      type: null,\n      message: null\n    });\n  };\n  const uploadLogo = async file => {\n    const fileExt = file.name.split('.').pop();\n    const fileName = `${Date.now()}-${Math.random()}.${fileExt}`;\n    const {\n      error\n    } = await supabase.storage.from('cso-logos').upload(fileName, file);\n    if (error) throw error;\n    const {\n      data: {\n        publicUrl\n      }\n    } = supabase.storage.from('cso-logos').getPublicUrl(fileName);\n    return publicUrl;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setStatus({\n      type: null,\n      message: null\n    });\n    try {\n      if (!formData.name) throw new Error('CSO name is required');\n      if (!formData.cluster) throw new Error('Cluster selection is required');\n      let logo_url = null;\n      if (logoFile) {\n        logo_url = await uploadLogo(logoFile);\n      }\n      const {\n        data: csoData,\n        error: csoError\n      } = await supabase.from('cso').insert([{\n        ...formData,\n        logo_url\n      }]).select().single();\n      if (csoError) throw csoError;\n      if (formData.executives.length > 0) {\n        const executivesToLink = formData.executives.map(execId => ({\n          cso_id: csoData.id,\n          exec_id: execId,\n          portfolio: 'Member',\n          can_post: true,\n          start_date: new Date().toISOString().split('T')[0]\n        }));\n        const {\n          error: linkError\n        } = await supabase.from('cso_exec').insert(executivesToLink);\n        if (linkError) {\n          await supabase.from('cso').delete().eq('id', csoData.id);\n          throw linkError;\n        }\n      }\n      setStatus({\n        type: 'success',\n        message: 'CSO created successfully!'\n      });\n\n      // Reset form\n      setFormData({\n        name: '',\n        description: '',\n        cluster: '',\n        subscription: '',\n        executives: []\n      });\n      setSelectedExecutives([]);\n      setLogoFile(null);\n      document.getElementById('logo-input').value = '';\n      setTimeout(() => navigate('/CSO'), 2000);\n    } catch (err) {\n      setStatus({\n        type: 'error',\n        message: err.message || 'An unexpected error occurred'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"add-cso-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Add a Club, Society, or Organization\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), status.message && /*#__PURE__*/_jsxDEV(\"div\", {\n      role: \"alert\",\n      className: `status-message ${status.type}`,\n      children: status.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"cso-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n        children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n          children: \"CSO Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"logo-input\",\n            children: \"Logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"logo-input\",\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: handleFileChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"Upload an image file (max 5MB)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: [\"CSO Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n              \"aria-hidden\": \"true\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 24\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"name\",\n            type: \"text\",\n            name: \"name\",\n            value: formData.name,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"description\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"description\",\n            name: \"description\",\n            value: formData.description,\n            onChange: handleChange,\n            rows: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"cluster\",\n            children: [\"Cluster \", /*#__PURE__*/_jsxDEV(\"span\", {\n              \"aria-hidden\": \"true\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"cluster\",\n            name: \"cluster\",\n            value: formData.cluster,\n            onChange: handleChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select a cluster...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"political\",\n              children: \"Political Cluster\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"academic\",\n              children: \"Academic Cluster\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"social\",\n              children: \"Social Cluster\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"cultural\",\n              children: \"Cultural Cluster\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"religious\",\n              children: \"Religious Cluster\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"sport\",\n              children: \"WITS Sport\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"council\",\n              children: \"School Council\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n        children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n          children: \"Subscription Required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"subscription\",\n              value: \"no\",\n              checked: formData.subscription === 'no',\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this), \"No\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"subscription\",\n              value: \"yes\",\n              checked: formData.subscription === 'yes',\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this), \"Yes\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n        children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n          children: \"Executive Team\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ExecutiveSearch, {\n          executives: executives,\n          selectedExecutives: selectedExecutives,\n          onAdd: handleAddExecutive,\n          onRemove: handleRemoveExecutive\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading,\n          children: loading ? 'Creating CSO...' : 'Add CSO'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => navigate('/CSO'),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 255,\n    columnNumber: 5\n  }, this);\n}\n_s2(AddCSO, \"Vd48jxHf6+ri4xKEMmzxE+y0xoo=\", false, function () {\n  return [useNavigate];\n});\n_c2 = AddCSO;\nexport default AddCSO;\nvar _c, _c2;\n$RefreshReg$(_c, \"ExecutiveSearch\");\n$RefreshReg$(_c2, \"AddCSO\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","supabase","jsxDEV","_jsxDEV","ExecutiveSearch","executives","selectedExecutives","onAdd","onRemove","_s","search","setSearch","showSuggestions","setShowSuggestions","filteredExecutives","filter","exec","name","toLowerCase","includes","find","selected","id","handleAdd","executive","children","role","type","placeholder","value","onChange","e","target","onFocus","fileName","_jsxFileName","lineNumber","columnNumber","length","className","map","onClick","tabIndex","onKeyDown","key","_c","AddCSO","_s2","navigate","formData","setFormData","description","cluster","subscription","logoFile","setLogoFile","loading","setLoading","status","setStatus","message","setExecutives","setSelectedExecutives","fetchExecutives","data","execData","error","execError","from","select","studentNumbers","Boolean","profileData","profileError","in","executivesWithNames","profile","p","full_name","err","console","handleAddExecutive","prev","handleRemoveExecutive","executiveId","handleChange","handleFileChange","file","files","startsWith","size","uploadLogo","fileExt","split","pop","Date","now","Math","random","storage","upload","publicUrl","getPublicUrl","handleSubmit","preventDefault","Error","logo_url","csoData","csoError","insert","single","executivesToLink","execId","cso_id","exec_id","portfolio","can_post","start_date","toISOString","linkError","delete","eq","document","getElementById","setTimeout","onSubmit","htmlFor","accept","required","rows","checked","disabled","_c2","$RefreshReg$"],"sources":["C:/Programming/Clubs Connect/Clubs-Connect/src/components/addCSO.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { supabase } from '../supabaseClient';\r\n\r\nfunction ExecutiveSearch({ executives, selectedExecutives, onAdd, onRemove }) {\r\n  const [search, setSearch] = useState('');\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n\r\n  const filteredExecutives = executives.filter(\r\n    exec =>\r\n      exec.name.toLowerCase().includes(search.toLowerCase()) &&\r\n      !selectedExecutives.find(selected => selected.id === exec.id)\r\n  );\r\n\r\n  const handleAdd = executive => {\r\n    onAdd(executive);\r\n    setSearch('');\r\n    setShowSuggestions(false);\r\n  };\r\n\r\n  return (\r\n    <section>\r\n      <div role=\"search\">\r\n        <input\r\n          type=\"search\"\r\n          placeholder=\"Type to search executives...\"\r\n          value={search}\r\n          onChange={e => setSearch(e.target.value)}\r\n          onFocus={() => setShowSuggestions(true)}\r\n          aria-label=\"Search executives\"\r\n        />\r\n\r\n        {showSuggestions && search && filteredExecutives.length > 0 && (\r\n          <div className=\"suggestions-container\">\r\n            <ul className=\"suggestions-dropdown\" role=\"listbox\">\r\n              {filteredExecutives.map(exec => (\r\n                <li\r\n                  key={exec.id}\r\n                  onClick={() => handleAdd(exec)}\r\n                  role=\"option\"\r\n                  tabIndex={0}\r\n                  onKeyDown={e => e.key === 'Enter' && handleAdd(exec)}\r\n                >\r\n                  {exec.name}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {selectedExecutives.length > 0 && (\r\n        <section aria-label=\"Selected executives\">\r\n          <h3>Selected executives:</h3>\r\n          <ul className=\"executive-chips\">\r\n            {selectedExecutives.map(exec => (\r\n              <li key={exec.id} className=\"chip\">\r\n                {exec.name}\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => onRemove(exec.id)}\r\n                  aria-label={`Remove ${exec.name}`}\r\n                >\r\n                  ×\r\n                </button>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </section>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\nfunction AddCSO() {\r\n  const navigate = useNavigate();\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    cluster: '',\r\n    subscription: '',\r\n    executives: [],\r\n  });\r\n  const [logoFile, setLogoFile] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [status, setStatus] = useState({ type: null, message: null });\r\n  const [executives, setExecutives] = useState([]);\r\n  const [selectedExecutives, setSelectedExecutives] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchExecutives();\r\n  }, []);\r\n\r\n  const fetchExecutives = async () => {\r\n    try {\r\n      const { data: execData, error: execError } = await supabase\r\n        .from('executive')\r\n        .select('id, student/staff_number');\r\n\r\n      if (execError) throw execError;\r\n\r\n      if (execData?.length > 0) {\r\n        const studentNumbers = execData\r\n          .map(exec => exec['student/staff_number'])\r\n          .filter(Boolean);\r\n\r\n        if (studentNumbers.length > 0) {\r\n          const { data: profileData, error: profileError } = await supabase\r\n            .from('profiles')\r\n            .select('id, full_name')\r\n            .in('id', studentNumbers);\r\n\r\n          if (profileError) throw profileError;\r\n\r\n          const executivesWithNames = execData.map(exec => {\r\n            const profile = profileData?.find(\r\n              p => p.id === exec['student/staff_number']\r\n            );\r\n            return {\r\n              id: exec.id,\r\n              name: profile?.full_name || 'Unknown Executive',\r\n            };\r\n          });\r\n\r\n          setExecutives(executivesWithNames);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching executives:', err);\r\n      setStatus({ type: 'error', message: 'Failed to load executives' });\r\n    }\r\n  };\r\n\r\n  const handleAddExecutive = executive => {\r\n    setSelectedExecutives([...selectedExecutives, executive]);\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      executives: [...prev.executives, executive.id],\r\n    }));\r\n  };\r\n\r\n  const handleRemoveExecutive = executiveId => {\r\n    setSelectedExecutives(prev => prev.filter(exec => exec.id !== executiveId));\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      executives: prev.executives.filter(id => id !== executiveId),\r\n    }));\r\n  };\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleFileChange = e => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    if (!file.type.startsWith('image/')) {\r\n      setStatus({ type: 'error', message: 'Please select an image file' });\r\n      return;\r\n    }\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      setStatus({ type: 'error', message: 'File size must be less than 5MB' });\r\n      return;\r\n    }\r\n    setLogoFile(file);\r\n    setStatus({ type: null, message: null });\r\n  };\r\n\r\n  const uploadLogo = async file => {\r\n    const fileExt = file.name.split('.').pop();\r\n    const fileName = `${Date.now()}-${Math.random()}.${fileExt}`;\r\n\r\n    const { error } = await supabase.storage\r\n      .from('cso-logos')\r\n      .upload(fileName, file);\r\n\r\n    if (error) throw error;\r\n\r\n    const { data: { publicUrl } } = supabase.storage\r\n      .from('cso-logos')\r\n      .getPublicUrl(fileName);\r\n\r\n    return publicUrl;\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setStatus({ type: null, message: null });\r\n\r\n    try {\r\n      if (!formData.name) throw new Error('CSO name is required');\r\n      if (!formData.cluster) throw new Error('Cluster selection is required');\r\n\r\n      let logo_url = null;\r\n      if (logoFile) {\r\n        logo_url = await uploadLogo(logoFile);\r\n      }\r\n\r\n      const { data: csoData, error: csoError } = await supabase\r\n        .from('cso')\r\n        .insert([{ ...formData, logo_url }])\r\n        .select()\r\n        .single();\r\n\r\n      if (csoError) throw csoError;\r\n\r\n      if (formData.executives.length > 0) {\r\n        const executivesToLink = formData.executives.map(execId => ({\r\n          cso_id: csoData.id,\r\n          exec_id: execId,\r\n          portfolio: 'Member',\r\n          can_post: true,\r\n          start_date: new Date().toISOString().split('T')[0],\r\n        }));\r\n\r\n        const { error: linkError } = await supabase\r\n          .from('cso_exec')\r\n          .insert(executivesToLink);\r\n\r\n        if (linkError) {\r\n          await supabase.from('cso').delete().eq('id', csoData.id);\r\n          throw linkError;\r\n        }\r\n      }\r\n\r\n      setStatus({ type: 'success', message: 'CSO created successfully!' });\r\n\r\n      // Reset form\r\n      setFormData({\r\n        name: '',\r\n        description: '',\r\n        cluster: '',\r\n        subscription: '',\r\n        executives: [],\r\n      });\r\n      setSelectedExecutives([]);\r\n      setLogoFile(null);\r\n      document.getElementById('logo-input').value = '';\r\n\r\n      setTimeout(() => navigate('/CSO'), 2000);\r\n    } catch (err) {\r\n      setStatus({\r\n        type: 'error',\r\n        message: err.message || 'An unexpected error occurred',\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"add-cso-container\">\r\n      <header>\r\n        <h1>Add a Club, Society, or Organization</h1>\r\n      </header>\r\n\r\n      {status.message && (\r\n        <div role=\"alert\" className={`status-message ${status.type}`}>\r\n          {status.message}\r\n        </div>\r\n      )}\r\n\r\n      <form onSubmit={handleSubmit} className=\"cso-form\">\r\n        <fieldset>\r\n          <legend>CSO Information</legend>\r\n          \r\n          <div>\r\n            <label htmlFor=\"logo-input\">Logo</label>\r\n            <input\r\n              id=\"logo-input\"\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              onChange={handleFileChange}\r\n            />\r\n            <small>Upload an image file (max 5MB)</small>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"name\">\r\n              CSO Name <span aria-hidden=\"true\">*</span>\r\n            </label>\r\n            <input\r\n              id=\"name\"\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={formData.name}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"description\">Description</label>\r\n            <textarea\r\n              id=\"description\"\r\n              name=\"description\"\r\n              value={formData.description}\r\n              onChange={handleChange}\r\n              rows=\"3\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"cluster\">\r\n              Cluster <span aria-hidden=\"true\">*</span>\r\n            </label>\r\n            <select\r\n              id=\"cluster\"\r\n              name=\"cluster\"\r\n              value={formData.cluster}\r\n              onChange={handleChange}\r\n              required\r\n            >\r\n              <option value=\"\">Select a cluster...</option>\r\n              <option value=\"political\">Political Cluster</option>\r\n              <option value=\"academic\">Academic Cluster</option>\r\n              <option value=\"social\">Social Cluster</option>\r\n              <option value=\"cultural\">Cultural Cluster</option>\r\n              <option value=\"religious\">Religious Cluster</option>\r\n              <option value=\"sport\">WITS Sport</option>\r\n              <option value=\"council\">School Council</option>\r\n            </select>\r\n          </div>\r\n        </fieldset>\r\n\r\n        <fieldset>\r\n          <legend>Subscription Required</legend>\r\n          <div>\r\n            <label>\r\n              <input\r\n                type=\"radio\"\r\n                name=\"subscription\"\r\n                value=\"no\"\r\n                checked={formData.subscription === 'no'}\r\n                onChange={handleChange}\r\n              />\r\n              No\r\n            </label>\r\n            <label>\r\n              <input\r\n                type=\"radio\"\r\n                name=\"subscription\"\r\n                value=\"yes\"\r\n                checked={formData.subscription === 'yes'}\r\n                onChange={handleChange}\r\n              />\r\n              Yes\r\n            </label>\r\n          </div>\r\n        </fieldset>\r\n\r\n        <fieldset>\r\n          <legend>Executive Team</legend>\r\n          <ExecutiveSearch\r\n            executives={executives}\r\n            selectedExecutives={selectedExecutives}\r\n            onAdd={handleAddExecutive}\r\n            onRemove={handleRemoveExecutive}\r\n          />\r\n        </fieldset>\r\n\r\n        <div className=\"form-actions\">\r\n          <button type=\"submit\" disabled={loading}>\r\n            {loading ? 'Creating CSO...' : 'Add CSO'}\r\n          </button>\r\n          <button type=\"button\" onClick={() => navigate('/CSO')}>\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default AddCSO;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}